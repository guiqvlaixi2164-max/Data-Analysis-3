# Airbnb Price Prediction Analysis

This folder contains a complete data analysis pipeline for predicting Airbnb prices in Lisbon and Porto, Portugal. The project includes data cleaning, feature engineering, and comparative modeling using multiple machine learning algorithms.

---

## Folder Structure

```
airbnb-analysis/
├── code/
│   ├── airbnb_multi_dataset_cleaning.ipynb  # Data cleaning & feature engineering
│   └── lisbon_models_comparison.ipynb        # Model training & evaluation
├── data/
│   ├── listings_2025Q1_Lisbon.csv            # Raw data: Lisbon Q1 2025
│   ├── listings_2025Q3_Lisbon.csv            # Raw data: Lisbon Q3 2025
│   ├── listings_2025Q3_Porto.csv             # Raw data: Porto Q3 2025
│   ├── Lisbon_2025Q1_cleaned.csv             # Cleaned data (generated)
│   ├── Lisbon_2025Q3_cleaned.csv             # Cleaned data (generated)
│   └── Porto_2025Q3_cleaned.csv              # Cleaned data (generated)
├── requirements.txt                           # Python dependencies
└── README.md                                  # This file
```

**Note**: The three cleaned CSV files (`*_cleaned.csv`) are generated by running the data cleaning notebook.

---

## Project Overview

### Notebooks

1. **`airbnb_multi_dataset_cleaning.ipynb`** - Data Wrangling Pipeline
   - Loads raw Airbnb listing data from three datasets
   - Performs data cleaning (type conversions, missing value handling, outlier removal)
   - Engineers features (geographic distance, amenities, host metrics, review features)
   - Aligns columns across all three datasets for consistent modeling
   - Outputs three cleaned CSV files ready for analysis

2. **`lisbon_models_comparison.ipynb`** - Model Training & Evaluation
   - Trains and evaluates 5 regression models: OLS, Lasso, Random Forest, GBM, HGBM
   - Performs k-fold cross-validation on Lisbon Q1 2025 data
   - Tests multiple Lasso regularization strengths (α = 0.2, 0.5, 1.0)
   - Compares model performance using RMSE and MAE metrics
   - Analyzes feature importance for tree-based models
   - Validates models on external datasets (temporal and geographic generalization)

### Datasets

- **Lisbon Q1 2025**: Training dataset (primary analysis)
- **Lisbon Q3 2025**: Temporal validation (same city, different quarter)
- **Porto Q3 2025**: Geographic validation (different city, different quarter)

---

## Environment Setup

### Prerequisites

- Python 3.8 or higher
- pip (Python package installer)
- Git (for cloning the repository)

### Step 1: Clone the Repository

```bash
# Navigate to the folder containing this analysis
cd path/to/your/repo
```

### Step 2: Install Required Packages

```bash
pip install --upgrade pip
pip install -r requirements.txt
```

This will install all necessary Python libraries including:
- Data manipulation: `pandas`, `numpy`
- Machine learning: `scikit-learn`
- Statistical modeling: `statsmodels`, `patsy`
- Visualization: `matplotlib`, `seaborn`
- Jupyter environment: `jupyter`, `notebook`

### Step 3: Launch Jupyter Notebook



---

## Reproducing Full Pipeline

1. Run the data cleaning notebook
   - Open `airbnb_multi_dataset_cleaning.ipynb` and run all
   - It may take about 2 minutes
   - Verify that three cleaned CSV files appear in the `../data/` folder:
     - `Lisbon_2025Q1_cleaned.csv`
     - `Lisbon_2025Q3_cleaned.csv`
     - `Porto_2025Q3_cleaned.csv`

2. Run the modeling notebook
   - Open `lisbon_models_comparison.ipynb` and run all
   - It may take about 10 minutes
   - Review results, visualizations, and performance comparisons



